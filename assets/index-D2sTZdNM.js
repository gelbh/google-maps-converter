(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))o(i);new MutationObserver(i=>{for(const c of i)if(c.type==="childList")for(const f of c.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&o(f)}).observe(document,{childList:!0,subtree:!0});function r(i){const c={};return i.integrity&&(c.integrity=i.integrity),i.referrerPolicy&&(c.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?c.credentials="include":i.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function o(i){if(i.ep)return;i.ep=!0;const c=r(i);fetch(i.href,c)}})();function G(t){const e=P(t),r=parseInt(e.slice(1,3),16)/255,o=parseInt(e.slice(3,5),16)/255,i=parseInt(e.slice(5,7),16)/255,c=Math.max(r,o,i),f=Math.min(r,o,i);let y,d,n=(c+f)/2;if(c===f)y=d=0;else{const l=c-f;switch(d=n>.5?l/(2-c-f):l/(c+f),c){case r:y=((o-i)/l+(o<i?6:0))/6;break;case o:y=((i-r)/l+2)/6;break;case i:y=((r-o)/l+4)/6;break}}return{h:Math.round(y*360),s:Math.round(d*100),l:Math.round(n*100)}}function K(t,e,r){t=t/360,e=e/100,r=r/100;let o,i,c;if(e===0)o=i=c=r;else{const y=(l,m,p)=>(p<0&&(p+=1),p>1&&(p-=1),p<.16666666666666666?l+(m-l)*6*p:p<.5?m:p<.6666666666666666?l+(m-l)*(.6666666666666666-p)*6:l),d=r<.5?r*(1+e):r+e-r*e,n=2*r-d;o=y(n,d,t+1/3),i=y(n,d,t),c=y(n,d,t-1/3)}const f=y=>{const d=Math.round(y*255).toString(16);return d.length===1?"0"+d:d};return`#${f(o)}${f(i)}${f(c)}`}function q(t,e,r){const o=P(t);let{h:i,s:c,l:f}=G(o);if(r!=null){const y=parseFloat(r);isNaN(y)||(c=Math.max(0,Math.min(100,c+y)))}if(e!=null){const y=parseFloat(e);isNaN(y)||(f=Math.max(0,Math.min(100,f+y)))}return K(i,c,f)}function P(t){return!t||typeof t!="string"||(t=t.trim().toLowerCase(),t.startsWith("#")&&(t=t.slice(1)),t.length===3&&(t=t.split("").map(e=>e+e).join("")),t.length!==6)||!/^[0-9a-f]{6}$/.test(t)?"#000000":`#${t}`}function V(t,e="#000000"){let r=t.color||e;return r=P(r),(t.lightness!==void 0||t.saturation!==void 0)&&(r=q(r,t.lightness,t.saturation)),r}const D={poi:"pointOfInterest","poi.park":"pointOfInterest.recreation.park","poi.sports_complex":"pointOfInterest.recreation.sportsComplex","poi.place_of_worship":"pointOfInterest.other.placeOfWorship","poi.school":"pointOfInterest.other.school","poi.government":"pointOfInterest.other.government","poi.medical":"pointOfInterest.emergency.hospital",administrative:"political","administrative.country":"political.countryOrRegion","administrative.locality":"political.city","administrative.neighborhood":"political.neighborhood","administrative.land_parcel":"political.landParcel","administrative.province":"political.stateOrProvince",road:"infrastructure.roadNetwork.road","road.highway":"infrastructure.roadNetwork.road.highway","road.arterial":"infrastructure.roadNetwork.road.arterial","road.local":"infrastructure.roadNetwork.road.local",landscape:"natural.land",water:"natural.water",transit:"infrastructure.transitStation","transit.station":"infrastructure.transitStation","transit.station.airport":"pointOfInterest.transit.airport","transit.station.bus":"infrastructure.transitStation.busStation","transit.station.rail":"infrastructure.transitStation.railStation"},Q={"geometry.fill":"geometry.fillColor","geometry.stroke":"geometry.strokeColor",geometry:"geometry.color","labels.text.fill":"label.textFillColor","labels.text.stroke":"label.textStrokeColor","labels.icon":"label.pinFillColor",labels:"label.visible","labels.text":"label.visible"},z={on:!0,off:!1,simplified:!0};function X(t){return!t||t==="all"?null:D[t]||null}function Y(t){return!t||t==="all"?null:Q[t]||null}function Z(t){if(t==null)return null;const e=String(t).toLowerCase();return z[e]!==void 0?z[e]:null}function tt(){return Object.values(D).filter(t=>typeof t=="string")}const S={pointOfInterest:["visible","fillColor","fillOpacity"],"pointOfInterest.emergency":["visible","fillColor","fillOpacity"],"pointOfInterest.entertainment":["visible","fillColor","fillOpacity"],"pointOfInterest.foodAndDrink":["visible","fillColor","fillOpacity"],"pointOfInterest.landmark":["visible","fillColor","fillOpacity"],"pointOfInterest.lodging":["visible","fillColor","fillOpacity"],"pointOfInterest.recreation":["visible","fillColor","fillOpacity"],"pointOfInterest.retail":["visible","fillColor","fillOpacity"],"pointOfInterest.service":["visible","fillColor","fillOpacity"],"pointOfInterest.transit":["visible","fillColor","fillOpacity"],"pointOfInterest.other":["visible","fillColor","fillOpacity"],"pointOfInterest.other.placeOfWorship":[],"pointOfInterest.other.school":[],"pointOfInterest.other.government":[],political:["visible","fillColor"],"political.countryOrRegion":[],"political.city":[],"political.neighborhood":[],"political.border":["visible","color"],"political.reservation":["visible","fillColor"],"political.stateOrProvince":["visible","fillColor"],"political.sublocality":["visible","fillColor"],"political.landParcel":["visible","strokeColor","strokeOpacity","strokeWeight"],"natural.continent":["visible","fillColor","fillOpacity"],"natural.archipelago":["visible","fillColor","fillOpacity"],"natural.island":["visible","fillColor","fillOpacity"],"natural.land":["visible","fillColor","fillOpacity"],"natural.water":["visible","fillColor","fillOpacity"],"natural.base":["visible","fillColor","fillOpacity"],"infrastructure.roadNetwork.road":["visible","fillColor","fillOpacity","strokeColor","strokeOpacity","strokeWeight"],"infrastructure.roadNetwork.road.highway":["visible","fillColor","fillOpacity","strokeColor","strokeOpacity","strokeWeight"],"infrastructure.roadNetwork.road.arterial":["visible","fillColor","fillOpacity","strokeColor","strokeOpacity","strokeWeight"],"infrastructure.roadNetwork.road.local":["visible","fillColor","fillOpacity","strokeColor","strokeOpacity","strokeWeight"],infrastructure:["visible","fillColor","fillOpacity","strokeColor","strokeOpacity","strokeWeight"],"infrastructure.transitStation":[],"infrastructure.transitStation.busStation":[],"infrastructure.transitStation.railStation":[]},w={pointOfInterest:["visible","pinFillColor","textFillColor","textFillOpacity","textStrokeColor","textStrokeOpacity"],"pointOfInterest.emergency":["visible","pinFillColor","textFillColor","textFillOpacity","textStrokeColor","textStrokeOpacity"],"pointOfInterest.entertainment":["visible","pinFillColor","textFillColor","textFillOpacity","textStrokeColor","textStrokeOpacity"],"pointOfInterest.foodAndDrink":["visible","pinFillColor","textFillColor","textFillOpacity","textStrokeColor","textStrokeOpacity"],"pointOfInterest.landmark":["visible","pinFillColor","textFillColor","textFillOpacity","textStrokeColor","textStrokeOpacity"],"pointOfInterest.lodging":["visible","pinFillColor","textFillColor","textFillOpacity","textStrokeColor","textStrokeOpacity"],"pointOfInterest.recreation":["visible","pinFillColor","textFillColor","textFillOpacity","textStrokeColor","textStrokeOpacity"],"pointOfInterest.retail":["visible","pinFillColor","textFillColor","textFillOpacity","textStrokeColor","textStrokeOpacity"],"pointOfInterest.service":["visible","pinFillColor","textFillColor","textFillOpacity","textStrokeColor","textStrokeOpacity"],"pointOfInterest.transit":["visible","pinFillColor","textFillColor","textFillOpacity","textStrokeColor","textStrokeOpacity"],"pointOfInterest.other":["visible","pinFillColor","textFillColor","textFillOpacity","textStrokeColor","textStrokeOpacity"],"pointOfInterest.other.placeOfWorship":["visible","pinFillColor","textFillColor","textFillOpacity","textStrokeColor","textStrokeOpacity"],"pointOfInterest.other.school":["visible","pinFillColor","textFillColor","textFillOpacity","textStrokeColor","textStrokeOpacity"],"pointOfInterest.other.government":["visible","pinFillColor","textFillColor","textFillOpacity","textStrokeColor","textStrokeOpacity"],political:["visible","pinFillColor","textFillColor","textFillOpacity","textStrokeColor","textStrokeOpacity"],"political.countryOrRegion":["visible","textFillColor","textFillOpacity","textStrokeColor","textStrokeOpacity"],"political.stateOrProvince":["visible","textFillColor","textFillOpacity","textStrokeColor","textStrokeOpacity"],"political.city":["visible","pinFillColor","textFillColor","textFillOpacity","textStrokeColor","textStrokeOpacity"],"political.sublocality":["visible","pinFillColor","textFillColor","textFillOpacity","textStrokeColor","textStrokeOpacity"],"political.neighborhood":["visible","textFillColor","textFillOpacity","textStrokeColor","textStrokeOpacity"],"political.landParcel":[],"infrastructure.roadNetwork.road":["visible","textFillColor","textFillOpacity","textStrokeColor","textStrokeOpacity"],"infrastructure.roadNetwork.road.highway":["visible","textFillColor","textFillOpacity","textStrokeColor","textStrokeOpacity"],"infrastructure.roadNetwork.road.arterial":["visible","textFillColor","textFillOpacity","textStrokeColor","textStrokeOpacity"],"infrastructure.roadNetwork.road.local":["visible","textFillColor","textFillOpacity","textStrokeColor","textStrokeOpacity"],infrastructure:["visible","pinFillColor","textFillColor","textFillOpacity","textStrokeColor","textStrokeOpacity"],"natural.water":["visible","textFillColor","textFillOpacity","textStrokeColor","textStrokeOpacity"],"infrastructure.transitStation":["visible","pinFillColor","textFillColor","textFillOpacity","textStrokeColor","textStrokeOpacity"],"infrastructure.transitStation.busStation":["visible","pinFillColor","textFillColor","textFillOpacity","textStrokeColor","textStrokeOpacity"],"infrastructure.transitStation.railStation":["visible","pinFillColor","textFillColor","textFillOpacity","textStrokeColor","textStrokeOpacity"]};function E(t,e){if(S[t])return S[t].includes(e);const r=t.split(".");for(let o=r.length-1;o>0;o--){const i=r.slice(0,o).join(".");if(S[i])return S[i].includes(e)}return!1}function et(t,e){if(w[t])return w[t].includes(e);const r=t.split(".");for(let o=r.length-1;o>0;o--){const i=r.slice(0,o).join(".");if(w[i])return w[i].includes(e)}return!1}function N(t){if(w.hasOwnProperty(t)){const r=w[t];return!(Array.isArray(r)&&r.length===0||r==null)}const e=t.split(".");for(let r=e.length-1;r>0;r--){const o=e.slice(0,r).join(".");if(w.hasOwnProperty(o)){const i=w[o];return!(Array.isArray(i)&&i.length===0||i==null)}}return!1}function L(t){if(S.hasOwnProperty(t)){const r=S[t];return!(Array.isArray(r)&&r.length===0||r==null)}const e=t.split(".");for(let r=e.length-1;r>0;r--){const o=e.slice(0,r).join(".");if(S.hasOwnProperty(o)){const i=S[o];return!(Array.isArray(i)&&i.length===0||i==null)}}return!1}function J(t){return E(t,"color")?"color":(E(t,"fillColor"),"fillColor")}function M(t,e,r){const o=L(e),i=N(e);!o&&i&&(t.label||(t.label={})),o&&!i&&(t.geometry||(t.geometry={})),o&&i&&(!r||r==="all"?(t.geometry||(t.geometry={}),t.label||(t.label={})):r.startsWith("geometry")?t.geometry||(t.geometry={}):r.startsWith("labels")&&(t.label||(t.label={})))}function rt(t){if(!Array.isArray(t)||t.length===0)return"light";let e=0,r=0;for(const o of t)if(!(!o.stylers||!Array.isArray(o.stylers))){for(const i of o.stylers)if(i.color){const c=G(P(i.color));e+=c.l,r++}}return r>0&&e/r<50?"dark":"light"}function ot(t){if(t==null)return null;const e=parseFloat(t);if(isNaN(e))return null;const r=Math.max(0,Math.min(8,e));return Math.round(r/.125)*.125}function it(t,e){const{featureType:r,elementType:o,stylers:i}=t;if(!i||!Array.isArray(i))return;let c=[];if(r==="all")c=tt();else{const d=X(r);d&&(c=Array.isArray(d)?d:[d])}if(c.length===0)return;const f={};for(const d of i)Object.assign(f,d);if(f.visibility!==void 0){const d=Z(f.visibility);if(d!==null)for(const n of c){e.has(n)||e.set(n,{id:n});const l=e.get(n),m=L(n),p=N(n);!m&&p?(l.label||(l.label={}),l.label.visible=d):m&&!p?(l.geometry||(l.geometry={}),l.geometry.visible=d):(M(l,n,o),(o==="all"||!o||o.startsWith("geometry"))&&m&&(l.geometry||(l.geometry={}),l.geometry.visible=d),(o==="all"||!o||o.startsWith("labels"))&&p&&(l.label||(l.label={}),l.label.visible=d))}}const y=Y(o);if(y){const[d,n]=y.split(".");for(const l of c){if(d==="geometry"){if(!L(l))continue}else if(d==="label"&&!N(l))continue;e.has(l)||e.set(l,{id:l});const m=e.get(l);if(M(m,l,o),d==="geometry"){let p=!1,j=null,O=null;if(n==="fillColor"||n==="strokeColor"||n==="color"){const F=n==="color"?J(l):n;E(l,F)&&(p=!0,j=F,O=V(f))}else if(n==="strokeWeight"&&E(l,"strokeWeight")){const F=ot(f.weight);F!==null&&(p=!0,j="strokeWeight",O=F)}p&&(m.geometry||(m.geometry={}),m.geometry[j]=O)}else if(d==="label"&&(n==="textFillColor"||n==="textStrokeColor"||n==="pinFillColor")&&et(l,n)){m.label||(m.label={});const p=V(f);m.label[n]=p}}}else if(o==="all"||!o){const d=V(f);if(d&&d!=="#000000")for(const n of c){if(!L(n))continue;const l=J(n);if(E(n,l)){e.has(n)||e.set(n,{id:n});const m=e.get(n);M(m,n,o),m.geometry||(m.geometry={}),m.geometry[l]=d}}}}function lt(t){const e={id:t.id},r=L(t.id),o=N(t.id);if(r||t.geometry&&delete t.geometry,o||t.label&&delete t.label,!r&&o)if(t.label&&Object.keys(t.label).length>0)e.label=t.label;else return null;if(r&&!o)if(t.geometry&&Object.keys(t.geometry).length>0)e.geometry=t.geometry;else return null;return r&&o&&(t.geometry&&Object.keys(t.geometry).length>0&&(e.geometry=t.geometry),t.label&&Object.keys(t.label).length>0&&(e.label=t.label),!e.geometry&&!e.label)?null:(!r&&e.geometry&&delete e.geometry,!o&&e.label&&delete e.label,e)}function nt(t){let e;try{e=typeof t=="string"?JSON.parse(t):t}catch(f){throw new Error(`Invalid JSON input: ${f.message}`)}if(!Array.isArray(e))throw new Error("V1 input must be an array of style rules");const r=rt(e),o=new Map;for(const f of e)it(f,o);const i=Array.from(o.values()).map(lt).filter(f=>f!==null&&(f.geometry||f.label));return{variant:r,styles:i}}let B=null,W=null;async function at(){if(B&&W)return;let t;try{typeof ajv7<"u"&&(t=ajv7.Ajv||ajv7.default||ajv7),t||(t=typeof Ajv<"u"?Ajv:void 0)}catch{t=void 0}if(!t&&typeof window<"u"){const e=window.ajv7;e&&(t=e.Ajv||e.default||e),t||(t=window.Ajv)}if(!t){await st("https://cdnjs.cloudflare.com/ajax/libs/ajv/8.17.1/ajv7.min.js"),await new Promise(e=>setTimeout(e,100));try{typeof ajv7<"u"&&(t=ajv7.Ajv||ajv7.default||ajv7),t||(t=typeof Ajv<"u"?Ajv:void 0)}catch{t=void 0}if(!t&&typeof window<"u"){const e=window.ajv7;e&&(t=e.Ajv||e.default||e),t||(t=window.Ajv)}if(!t)throw new Error("Failed to load Ajv library. Please check your internet connection.")}B=new t({allErrors:!0,verbose:!0});try{W=await(await fetch("/src/schema/cbms-json-schema.json")).json()}catch(e){throw console.error("Failed to load schema:",e),new Error("Failed to load validation schema")}}function st(t){return new Promise((e,r)=>{if(document.querySelector(`script[src="${t}"]`)){e();return}const o=document.createElement("script");o.src=t,o.onload=()=>e(),o.onerror=()=>r(new Error(`Failed to load script: ${t}`)),document.head.appendChild(o)})}async function ct(t){try{await at()}catch(o){return{valid:!1,errors:[{message:o.message}]}}const e=B.compile(W);return e(t)?{valid:!0,errors:null}:{valid:!1,errors:e.errors||[]}}function T(){const t=document.getElementById("v1-input"),e=document.getElementById("v2-output");if(!window.CodeMirror){setTimeout(T,50);return}const r=CodeMirror.fromTextArea(t,{mode:{name:"javascript",json:!0},theme:"monokai",lineNumbers:!0,lineWrapping:!0,indentUnit:2,tabSize:2,autoCloseBrackets:!0,matchBrackets:!0,styleActiveLine:!0,placeholder:"Paste your V1 style JSON here...",viewportMargin:1/0}),o=CodeMirror.fromTextArea(e,{mode:{name:"javascript",json:!0},theme:"monokai",lineNumbers:!0,lineWrapping:!0,indentUnit:2,tabSize:2,readOnly:!0,cursorBlinkRate:0,placeholder:"V2 output will appear here after conversion...",viewportMargin:1/0});r.setSize(null,"250px"),o.setSize(null,"250px");const i=document.createElement("style");i.textContent=`
    .CodeMirror {
      background: rgba(0, 0, 0, 0.2) !important;
      backdrop-filter: blur(4px);
      color: #f8f8f2 !important;
      height: 100% !important;
    }
    .CodeMirror-scroll {
      height: 100% !important;
    }
    .CodeMirror-gutters {
      background: rgba(0, 0, 0, 0.3) !important;
      border-right: 1px solid rgba(255, 255, 255, 0.1) !important;
    }
    .CodeMirror-linenumber {
      color: rgba(255, 255, 255, 0.5) !important;
    }
    .CodeMirror-cursor {
      border-left: 1px solid #f8f8f2 !important;
    }
    .CodeMirror-selected {
      background: rgba(255, 255, 255, 0.1) !important;
    }
    .CodeMirror-focused .CodeMirror-selected {
      background: rgba(66, 133, 244, 0.3) !important;
    }
    .CodeMirror-placeholder {
      color: rgba(255, 255, 255, 0.4) !important;
    }
  `,document.head.appendChild(i),window.v1InputEditor=r,window.v2OutputEditor=o,gt(r,o)}const R=document.getElementById("convert-btn"),dt=document.getElementById("clear-btn"),C=document.getElementById("copy-btn"),ft=document.getElementById("download-btn"),ut=document.getElementById("file-input"),pt=document.getElementById("example-select"),mt=document.getElementById("loading"),$=document.getElementById("error-display"),k=document.getElementById("validation-status"),I=document.getElementById("validation-errors"),U=document.getElementById("validation-errors-content"),yt=document.getElementById("close-validation-errors");function gt(t,e){let r=null;R.addEventListener("click",o),dt.addEventListener("click",f),C.addEventListener("click",y),ft.addEventListener("click",d),ut.addEventListener("change",i),pt.addEventListener("change",c),yt.addEventListener("click",O),k.addEventListener("click",()=>{I.classList.contains("hidden")?U.innerHTML.trim()!==""&&(I.classList.remove("hidden"),I.scrollIntoView({behavior:"smooth",block:"nearest"})):O()}),document.addEventListener("keydown",s=>{(s.ctrlKey||s.metaKey)&&s.key==="Enter"&&(s.preventDefault(),o())});async function o(){const s=t.getValue().trim();if(!s){n("Please enter V1 JSON to convert");return}l(),m(!0),p("pending","Validating...");try{const u=nt(s);r=u;const g=JSON.stringify(u,null,2);e.setValue(g);const a=await ct(u);a.valid?(p("valid","Valid ✓"),O()):(p("invalid","Invalid ✗"),j(a.errors,u),console.warn("Validation errors:",a.errors))}catch(u){n(`Conversion error: ${u.message}`),e.setValue(""),r=null,p("invalid","Error")}finally{m(!1)}}function i(s){const u=s.target.files[0];if(!u)return;const g=new FileReader;g.onload=a=>{try{const b=a.target.result;JSON.parse(b),t.setValue(b),l()}catch(b){n(`Invalid JSON file: ${b.message}`)}},g.onerror=()=>{n("Failed to read file")},g.readAsText(u),s.target.value=""}async function c(s){const u=s.target.value;if(u){try{const a=`/google-maps-converter/${u}`.replace(/\/+/g,"/"),b=await fetch(a);if(!b.ok)throw new Error(`Failed to load example: ${b.statusText}`);const v=await b.text();t.setValue(v),l()}catch(g){n(`Failed to load example: ${g.message}`)}s.target.value=""}}function f(){t.setValue(""),e.setValue(""),r=null,l(),p("",""),t.focus()}async function y(){const s=e.getValue();if(!s){n("No output to copy");return}try{await navigator.clipboard.writeText(s);const u=C.textContent;C.textContent="Copied!",C.classList.remove("bg-white/20"),C.classList.add("bg-green-500/40","border-green-400/50"),setTimeout(()=>{C.textContent=u,C.classList.remove("bg-green-500/40","border-green-400/50"),C.classList.add("bg-white/20")},2e3)}catch(u){n(`Failed to copy: ${u.message}`)}}function d(){if(!r){n("No output to download");return}const s=JSON.stringify(r,null,2),u=new Blob([s],{type:"application/json"}),g=URL.createObjectURL(u),a=document.createElement("a");a.href=g,a.download="v2-style.json",document.body.appendChild(a),a.click(),document.body.removeChild(a),URL.revokeObjectURL(g)}function n(s){$.textContent=s,$.classList.remove("hidden")}function l(){$.classList.add("hidden")}function m(s){mt.classList.toggle("hidden",!s),R.disabled=s}function p(s,u){k.classList.remove("valid","invalid","pending"),s&&(k.classList.add(s),s==="valid"?k.className="px-3 py-1 rounded-full text-xs font-semibold uppercase cursor-pointer transition-opacity hover:opacity-80 bg-green-100 text-green-800":s==="invalid"?k.className="px-3 py-1 rounded-full text-xs font-semibold uppercase cursor-pointer transition-opacity hover:opacity-80 bg-red-100 text-red-800":s==="pending"&&(k.className="px-3 py-1 rounded-full text-xs font-semibold uppercase cursor-pointer transition-opacity hover:opacity-80 bg-yellow-100 text-yellow-800")),k.textContent=u,k.classList.toggle("hidden",!u)}function j(s,u){if(!s||s.length===0){O();return}const g={};s.forEach(v=>{const h=v.instancePath||v.schemaPath||"/";g[h]||(g[h]=[]),g[h].push(v)});let a=`<div class="mb-4 p-3 bg-yellow-100/50 rounded-md text-yellow-800 font-medium">
      <p><strong>${s.length} validation error${s.length!==1?"s":""} found</strong></p>
    </div>`;Object.entries(g).forEach(([v,h])=>{a+='<div class="mb-4 p-4 bg-background rounded-md border-l-4 border-destructive">',a+=`<div class="mb-3 font-semibold text-foreground"><strong>Path:</strong> <code class="bg-muted px-2 py-1 rounded text-sm font-mono text-destructive">${v||"/"}</code></div>`,h.forEach(x=>{if(a+='<div class="mb-3 p-3 bg-muted rounded-md last:mb-0">',a+=`<div class="mb-2 text-destructive font-medium"><strong>Error:</strong> ${x.message||"Unknown error"}</div>`,x.params){a+='<div class="mb-2 text-muted-foreground text-xs"><strong>Details:</strong> ';const A=Object.entries(x.params).map(([H,_])=>`${H}: ${JSON.stringify(_)}`).join(", ");a+=A,a+="</div>"}if(v&&u){const A=F(u,v);A!==void 0&&(a+=`<div class="mt-2 p-2 bg-background border border-border rounded"><strong>Value:</strong> <code class="font-mono text-xs text-foreground break-all">${JSON.stringify(A)}</code></div>`)}a+="</div>"}),a+="</div>"});const b=s.filter(v=>v.instancePath&&v.instancePath.includes("/styles/"));if(b.length>0){const v=new Set;b.forEach(h=>{const x=h.instancePath.match(/\/styles\/(\d+)/);x&&v.add(parseInt(x[1]))}),v.size>0&&(a+='<div class="mb-4 p-4 bg-background rounded-md border-l-4 border-destructive">',a+='<div class="mb-3 font-semibold text-foreground"><strong>Problematic Styles:</strong></div>',Array.from(v).sort((h,x)=>h-x).forEach(h=>{const x=u.styles[h];x&&(a+='<div class="mb-3 p-3 bg-muted rounded-md last:mb-0">',a+=`<div class="mb-2 text-destructive font-medium">Style #${h}: <code class="bg-muted px-2 py-1 rounded text-sm font-mono text-destructive">${x.id||"unknown"}</code></div>`,a+=`<div class="mt-2 p-2 bg-background border border-border rounded"><pre class="m-0 p-0 font-mono text-xs text-foreground whitespace-pre-wrap break-all bg-transparent border-none">${JSON.stringify(x,null,2)}</pre></div>`,a+="</div>")}),a+="</div>")}U.innerHTML=a,I.classList.remove("hidden"),I.scrollIntoView({behavior:"smooth",block:"nearest"})}function O(){I.classList.add("hidden")}function F(s,u){if(!u||u==="/")return s;const g=u.split("/").filter(b=>b);let a=s;for(const b of g){if(a==null)return;isNaN(b)?a=a[b]:a=a[parseInt(b)]}return a}}document.readyState==="loading"?document.addEventListener("DOMContentLoaded",T):T();
